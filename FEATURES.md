# 🍳 HowToCook MCP 服务器 - 功能详细说明

## 📊 功能总览

HowToCook MCP 服务器提供 **14个专业工具**，覆盖从菜谱搜索到营养分析的完整烹饪流程。

## 🔧 工具详细说明

### 📚 基础菜谱功能 (3个工具)

#### 1. `get_all_recipes` - 获取所有菜谱
- **功能**: 返回所有可用菜谱的简化信息
- **返回**: 菜谱名称和描述
- **用途**: 浏览所有可用菜谱，了解菜谱库规模

#### 2. `get_recipes_by_category` - 按分类获取菜谱
- **参数**: `category` (菜谱分类)
- **支持分类**: 水产、早餐、荤菜、主食、素菜、甜品、汤羹
- **返回**: 指定分类的菜谱列表
- **用途**: 按需求分类查找菜谱

#### 3. `get_recipe_details` - 获取菜谱详情
- **参数**: `recipe_name` (菜谱名称)
- **返回**: 完整菜谱信息（食材、步骤、小贴士等）
- **特点**: 支持模糊匹配菜谱名称
- **用途**: 获取具体制作方法

### 🔍 智能搜索功能 (6个工具)

#### 4. `search_recipes_by_ingredients` - 按食材搜索
- **参数**: `ingredients` (食材列表)
- **算法**: 智能匹配算法，按匹配度排序
- **返回**: 包含指定食材的菜谱，显示匹配统计
- **用途**: 根据现有食材找菜谱，清理冰箱

#### 5. `filter_recipes_by_difficulty` - 按难度筛选
- **参数**: `difficulty` (1-5星难度)
- **分级**: 1=非常简单，2=简单，3=中等，4=较难，5=很难
- **返回**: 指定难度的菜谱列表
- **用途**: 根据烹饪技能选择合适菜谱

#### 6. `search_recipes_by_time` - 按时间筛选
- **参数**: `max_time_minutes` (最大制作时间)
- **返回**: 指定时间内能完成的菜谱，按时间排序
- **用途**: 寻找快手菜，时间管理

#### 7. `search_recipes_by_cuisine` - 按菜系搜索
- **参数**: `cuisine_type` (菜系类型)
- **支持菜系**: 川菜、粤菜、鲁菜、苏菜、浙菜、闽菜、湘菜、徽菜
- **算法**: 基于菜系关键词智能识别
- **用途**: 寻找地道菜系菜谱

#### 8. `search_recipes_by_tags` - 按标签搜索
- **参数**: `tags` (标签列表)
- **支持标签**: 下饭菜、宴客菜、快手菜、素食、减脂等
- **返回**: 包含指定标签的菜谱，按匹配度排序
- **用途**: 个性化需求搜索

#### 9. `get_seasonal_recommendations` - 季节推荐
- **参数**: `season` (spring/summer/autumn/winter/current)
- **算法**: 自动识别当前季节，匹配时令食材
- **返回**: 适合该季节的菜谱，显示时令食材
- **用途**: 应季而食，营养健康

### 🛠️ 实用辅助功能 (2个工具)

#### 10. `generate_shopping_list` - 生成购物清单
- **参数**: `recipe_names` (菜谱列表), `people_count` (人数)
- **功能**: 
  - 自动合并重复食材
  - 按类别分组（调料、生鲜、主食、其他）
  - 根据人数调整用量
  - 提供详细统计信息
- **用途**: 购物准备，避免遗漏和重复

#### 11. `get_ingredient_substitutes` - 食材替代
- **参数**: `ingredient_name` (食材名称)
- **数据库**: 内置丰富的食材替代方案
- **返回**: 替代方案和使用建议
- **用途**: 食材缺失时的应急方案

### 📊 营养分析功能 (1个工具)

#### 12. `analyze_recipe_nutrition` - 营养分析
- **参数**: `recipe_name` (菜谱名称)
- **分析内容**: 卡路里、蛋白质、脂肪、碳水化合物
- **计算方式**: 基于食材营养数据库估算
- **返回**: 总营养和人均营养数据
- **用途**: 健康饮食，营养管理

### 🤖 智能推荐功能 (2个工具)

#### 13. `what_to_eat` - 快速推荐
- **参数**: `people_count` (用餐人数)
- **算法**: 根据人数智能推荐菜品组合
- **返回**: 荤菜和素菜的搭配组合
- **用途**: 解决"不知道吃什么"的问题

#### 14. `recommend_meals` - 膳食计划
- **参数**: `people_count`, `allergies`, `avoid_items`
- **功能**: 考虑忌口、过敏原的一周膳食规划
- **算法**: 营养均衡、口味多样的智能搭配
- **用途**: 长期膳食规划

## 📊 资源 (3个)

### 1. `howtocook://categories` - 菜谱分类
- **功能**: 获取所有可用的菜谱分类列表
- **返回**: 分类名称和统计信息

### 2. `howtocook://stats` - 统计信息
- **功能**: 菜谱数据的统计分析
- **内容**: 分类分布、难度分析、总数统计

### 3. `howtocook://health` - 健康检查
- **功能**: 服务器健康状态监控
- **内容**: 数据源状态、缓存状态、性能指标

## 💬 提示模板 (2个)

### 1. `meal_planning_assistant` - 膳食计划助手
- **风格**: 专业营养师风格
- **参数**: 人数、饮食限制、菜系偏好、预算水平
- **用途**: 指导AI进行膳食计划

### 2. `recipe_recommendation` - 菜谱推荐
- **风格**: 专业厨师风格
- **参数**: 用餐场合、烹饪时间、技能水平
- **用途**: 指导AI进行菜谱推荐

## 🎯 技术特色

### 智能算法
- **模糊匹配**: 支持菜谱名称和食材的模糊搜索
- **相似度排序**: 按匹配度对搜索结果排序
- **营养估算**: 基于食材数据库的营养成分计算
- **季节识别**: 自动识别当前季节推荐时令菜谱

### 数据处理
- **食材分类**: 智能识别调料、生鲜、主食等类别
- **用量调整**: 根据人数自动调整食材用量
- **去重合并**: 购物清单中重复食材的智能合并
- **菜系识别**: 基于关键词的菜系智能识别

### 性能优化
- **缓存机制**: 自动缓存菜谱数据，提升响应速度
- **并发控制**: 智能的并发请求管理
- **错误处理**: 完善的错误处理和恢复机制
- **性能监控**: 实时性能指标收集和分析

## 🚀 使用建议

### 最佳实践
1. **组合使用**: 结合多个工具获得最佳体验
2. **渐进查询**: 从分类查询到详细信息的渐进式查询
3. **智能搜索**: 充分利用各种搜索维度
4. **辅助功能**: 使用购物清单和替代建议提升效率

### 典型流程
```
浏览分类 → 搜索筛选 → 查看详情 → 生成购物清单 → 开始烹饪
```

### 高级用法
- 结合营养分析进行健康饮食管理
- 使用季节推荐进行时令养生
- 利用食材替代应对突发情况
- 通过膳食计划进行长期规划